<!DOCTYPE html>
<html>
<head>
<title>AirCommit</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="aircommit-verifiable-data-transmission-protocol-for-offline-environments"><strong>AirCommit: Verifiable Data Transmission Protocol for Offline Environments</strong></h1>
<h2 id="abstract"><strong>Abstract</strong></h2>
<p>AirCommit is a protocol designed to provide secure, portable, and verifiable data transmission for devices that must remain offline. Initially developed for updates (git commits), it has evolved into a comprehensive data transmission solution. The protocol uses digital signatures, encoding techniques, and offline data transmission methods to ensure data integrity and reliability. <strong>This enables data transmission via QR codes, sound waves, and other offline methods without requiring any connection</strong>.</p>
<hr>
<h2 id="1-introduction"><strong>1. Introduction</strong></h2>
<p>Modern data transmission methods often rely on internet connectivity. Even when a direct internet connection is not required, the sender and offline device must still establish a link, which introduces security risks for sensitive devices. Data transmission to offline devices, especially in security-critical systems (such as Bitcoin cold wallets), must be both verifiable and portable.</p>
<p>AirCommit is developed to enable secure data transmission to offline devices. The protocol simplifies the transport and verification of data for offline environments.</p>
<hr>
<h2 id="2-objectives-of-the-protocol"><strong>2. Objectives of the Protocol</strong></h2>
<h3 id="21-data-security"><strong>2.1. Data Security</strong></h3>
<ul>
<li>Ensuring data integrity and preventing unauthorized modifications.</li>
<li>Verifying the sender's identity through digital signatures.</li>
</ul>
<h3 id="22-offline-portability"><strong>2.2. Offline Portability</strong></h3>
<ul>
<li>Enabling data transmission without requiring an online/offline connection between devices.</li>
<li>Supporting QR codes, sound waves, and physical transport methods.</li>
</ul>
<h3 id="23-general-applicability"><strong>2.3. General Applicability</strong></h3>
<ul>
<li>Allowing devices that must remain offline to receive data without connecting to internet-enabled devices.</li>
<li>Providing flexibility to work with any type of data.</li>
</ul>
<hr>
<h2 id="3-technical-details"><strong>3. Technical Details</strong></h2>
<h3 id="31-elliptic-curve-cryptography-ecc"><strong>3.1. Elliptic Curve Cryptography (ECC)</strong></h3>
<p>AirCommit leverages <strong>Elliptic Curve Cryptography (ECC)</strong> to provide a secure mechanism for key generation and digital signatures.</p>
<h4 id="311-ecdsa-secp256k1"><strong>3.1.1. ECDSA (secp256k1)</strong></h4>
<p>AirCommit uses the <strong>secp256k1</strong> elliptic curve, which is widely used in secure systems like Bitcoin due to its high speed and robust security.</p>
<ul>
<li>
<p><strong>Private Key:</strong><br>
A randomly generated 256-bit value used to sign files.<br>
Format: <code>acsec1...</code></p>
</li>
<li>
<p><strong>Public Key:</strong><br>
A 512-bit key (consisting of X and Y coordinates) derived from the private key and used to verify signatures.<br>
Format: <code>acpub1...</code></p>
</li>
</ul>
<h3 id="32-data-signing-and-verification"><strong>3.2. Data Signing and Verification</strong></h3>
<p>AirCommit ensures secure data transmissions through digital signatures. The signing process follows these steps:</p>
<ol>
<li>
<p><strong>Preparing the File:</strong></p>
<ul>
<li>The file to be transmitted is encoded in Base64 format.</li>
</ul>
</li>
<li>
<p><strong>Signing:</strong></p>
<ul>
<li>The encoded file is signed using the private key.</li>
</ul>
</li>
<li>
<p><strong>Verification:</strong></p>
<ul>
<li>The recipient verifies the signature using the public key to confirm that the file has not been altered.</li>
</ul>
</li>
<li>
<p><strong>Mnemonic Verification (Optional):</strong></p>
<ul>
<li>The AC code can be hashed using SHA-256 to generate mnemonic words, which can be used in the verification process.</li>
</ul>
</li>
</ol>
<hr>
<h3 id="33-data-encoding"><strong>3.3. Data Encoding</strong></h3>
<ul>
<li>
<p><strong>Bech32:</strong><br>
Keys and signatures are stored in Bech32 format.<br>
Example: <code>acsec1qxyz...</code> or <code>acpub1rxyz...</code></p>
</li>
<li>
<p><strong>Base64:</strong><br>
File content is encoded in Base64 to make it portable.<br>
Example: <code>MTIzNDU2Nzg5L2Jhc2U2NA==</code></p>
</li>
</ul>
<hr>
<h3 id="34-ac-code-format"><strong>3.4. AC Code Format</strong></h3>
<p>AirCommit uses the <strong>ac</strong> format to combine all data and signatures into a single line. The file to be transmitted is encoded in Base64 and merged with the digital signature.</p>
<p><strong>Format:</strong></p>
<pre class="hljs"><code><div>ac{Base64_encoded_data}{acsig1...}
</div></code></pre>
<p><strong>Example:</strong></p>
<pre class="hljs"><code><div>acU2FtcGxlIGRhdGEgdG8gYmUgc2lnbmVkIHdpdGggQUlSQ09NTUlUacsig1qw8v0...
</div></code></pre>
<hr>
<h3 id="35-qr-code-formatting"><strong>3.5. QR Code Formatting</strong></h3>
<p>Large files are split into multiple QR codes for transmission. The QR codes are formatted as follows:</p>
<pre class="hljs"><code><div>{part_number}P{total_parts}QR: {Base64_encoded_ac}
</div></code></pre>
<p><strong>Example:</strong></p>
<pre class="hljs"><code><div>1P5QR: U29tZSBzYW1wbGUgZGF0YS4uLg==
2P5QR: Q29udGludWVkIGRhdGEuLg==
</div></code></pre>
<p>This structure ensures the correct sequential scanning of QR codes and detects missing parts.</p>
<hr>
<h3 id="36-audio-formatting"><strong>3.6. Audio Formatting</strong></h3>
<p>Data files can be transmitted using audio signals by converting their content into Base64 format and representing each character as a unique frequency.</p>
<p>The encoded Base64 string <code>{Base64_encoded_ac}</code> is processed as follows:</p>
<ol start="3">
<li>
<p><strong>Frequency Mapping:</strong><br>
Each character in <code>{Base64_encoded_ac}</code> is assigned a specific frequency:</p>
<ul>
<li><strong>Character Set:</strong> <code>ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/</code></li>
<li><strong>Starting Frequency:</strong> 300 Hz</li>
<li><strong>Frequency Step:</strong> 50 Hz per character</li>
</ul>
</li>
<li>
<p><strong>Audio Generation:</strong><br>
A sine wave tone is generated for each character in <code>{Base64_encoded_ac}</code> using the formula:</p>
<pre class="hljs"><code><div>amplitude * sin(2 * Ï€ * frequency * time)
</div></code></pre>
<p>The tones are concatenated to form a continuous audio waveform.</p>
</li>
<li>
<p><strong>Playback and Transmission:</strong><br>
The generated audio signal is played for transmission or stored for further use.</p>
</li>
</ol>
<p><strong>Example Audio Encoding:</strong></p>
<p>Given the Base64 encoded string:</p>
<pre class="hljs"><code><div>U29tZSBzYW1wbGUgZGF0YS4uLg==
</div></code></pre>
<p>The corresponding audio signal will represent each character with its mapped frequency and be played sequentially.</p>
<hr>
<h2 id="4-conclusion"><strong>4. Conclusion</strong></h2>
<p>AirCommit provides a secure and verifiable way to transmit data to devices that do not need internet connectivity. Using digital signatures and various offline transmission methods, it ensures data integrity and safe delivery in critical environments.</p>
<p><em>Written by untreu (Emir Yorulmaz), <a href="https://github.com/untreu2/aircommit">GitHub Repository</a></em></p>
<p><em>Date: 2025-01-26</em></p>

</body>
</html>
